<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="UTF-8">
    <title>Web Application</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script>
        $(document).ready(function(){
            $('#run').click(function(){
                $.ajax({
                    url: "./query",
                    type: 'POST',
                    data:{
                      query: $('#Query').val(),
                      type: $('input:radio[name=dbButton]:checked').val(),
                    },
                    dataType: 'json',
                    success: function (data){
                        $('#te').val(data.time+"s");
                        $.each(data.result, function(index, row){
                            $('#result').append("<br/>" + row + "<br/>");
                        });
                    },
                    error: function (request, error) {
                        alert("Request: " + JSON.stringify(request));
                    },
                })})});
        function refreshPage(){
            window.location.reload(true);
        }
    </script>
    <style>
        .db {text-align: center;
        }
        #Query {
            height: 250px;
            width: 100%;
        }
        #run{
            width: 100px;
            margin-right: 1050px;
            margin-bottom: 4px;
            margin-top: 4px;
        }
        #result {
            height: 100%;
            width: 100%;
            border: solid;
        }
    </style>
</head>
<body>
<div class="db">
    <input type="radio" value="MySQL" id="db1" name="dbButton">MySQL
    <input type="radio" value="Redshift" id="db2" name="dbButton">Redshift<br>
</div>
<p>Query : <br></p>
<input type="text" value= " " id="Query"><br>
<input type="submit" value="Run" id="run" style="float: left;" >
<input type="submit" value="Clear" id="clear" onclick="refreshPage()" style="float:left;">
<input type="text" id="te" readonly>Time Elapsed<br>
<div id="result" ><br></div>

</body>
</html>